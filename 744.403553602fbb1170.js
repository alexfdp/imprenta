"use strict";(self.webpackChunkproyecto_imprenta=self.webpackChunkproyecto_imprenta||[]).push([[744],{6744:(st,x,r)=>{r.r(x),r.d(x,{ClienteModule:()=>lt});var g=r(1896),l=r(6223),t=r(5879);let z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cliente-view"]],decls:2,vars:0,template:function(n,i){1&n&&(t.TgZ(0,"p"),t._uU(1,"cliente-view works!"),t.qZA())}}),e})();var T=r(1476),O=r(3566),d=r(6814),Z=r(2329),m=r(7700);let b=(()=>{class e{constructor(){this.productsCart=[]}setProducts(n){this.productsCart=n}getProducts(){return this.productsCart}setmensaje(n){this.mensaje=n}getmensaje(){return this.mensaje}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=r(9862),h=r(553);let v=(()=>{class e{constructor(n,i){this.http=n,this.routerprd=i,this.PRODUCTSURL="Public/GetProductosP",this.POSTCARTPRODUCT="Public/PostProductsCart",this.GETCOTIZACIONES="Public/GetCotizacionesCli"}getProducts(){return this.http.get(`${h.N.apiUrl}/${this.PRODUCTSURL}`)}postProductsCarts(n){let i=(new _.WM).set("Authorization","Bearer Token"+localStorage.getItem("token"));return this.http.post(`${h.N.apiUrl}/${this.POSTCARTPRODUCT}`,n,{headers:i})}getCotizaciones(){let n=(new _.WM).set("Authorization","Bearer Token"+localStorage.getItem("token"));return this.http.get(`${h.N.apiUrl}/${this.GETCOTIZACIONES}`,{headers:n})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(_.eN),t.LFG(g.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=r(2296),A=r(617),y=r(1274),M=r(9157),P=r(2032),C=r(5195),N=r(6593);function U(e,o){if(1&e&&(t.TgZ(0,"span",11),t._uU(1),t.TgZ(2,"span",12),t._uU(3,"unread messages"),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.tam," ")}}function I(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",13)(1,"mat-card",14)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA()(),t._UZ(5,"img",15),t.TgZ(6,"mat-card-actions")(7,"button",16),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.openDialog(c.idpp_producto,c.nombre))}),t._uU(8," A\xf1adir al carrito "),t.TgZ(9,"mat-icon"),t._uU(10,"add_shopping_cart"),t.qZA()()()()()}if(2&e){const n=o.$implicit;t.xp6(4),t.Oqu(n.nombre),t.xp6(1),t.Q6J("src",n.imagen,t.LSH)}}const D=function(){return["/cliente/cotizar"]},S=function(){return[12,16,20]};function J(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",1)(1,"mat-toolbar",2)(2,"h4"),t._uU(3,"Productos"),t.qZA(),t._UZ(4,"span",3),t.TgZ(5,"button",4)(6,"mat-icon"),t._uU(7,"shopping_cart"),t.qZA(),t.YNc(8,U,4,1,"span",5),t.qZA()(),t.TgZ(9,"mat-form-field")(10,"mat-label"),t._uU(11,"Filtro"),t.qZA(),t.TgZ(12,"input",6,7),t.NdJ("ngModelChange",function(a){t.CHM(n);const c=t.oxw();return t.KtG(c.searchTerm=a)})("keyup",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.paginateCards())}),t.qZA()(),t.TgZ(14,"mat-paginator",8),t.NdJ("page",function(a){t.CHM(n);const c=t.oxw();return t.KtG(c.onPageChange(a))}),t.qZA(),t.TgZ(15,"div",9),t.YNc(16,I,11,2,"div",10),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(5),t.Q6J("routerLink",t.DdM(6,D)),t.xp6(3),t.Q6J("ngIf",n.tam),t.xp6(4),t.Q6J("ngModel",n.searchTerm),t.xp6(2),t.Q6J("length",n.productos2.length)("pageSizeOptions",t.DdM(7,S)),t.xp6(2),t.Q6J("ngForOf",n.paginatedCards)}}function Y(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1," Introduzca la descripci\xf3n "),t.qZA())}function F(e,o){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,Y,2,0,"div",15),t.qZA()),2&e){t.oxw();const n=t.MAs(15);t.xp6(1),t.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function q(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1," Introduzca la descripci\xf3n "),t.qZA())}function Q(e,o){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,q,2,0,"div",15),t.qZA()),2&e){t.oxw();const n=t.MAs(21);t.xp6(1),t.Q6J("ngIf",null==n.errors?null:n.errors.required)}}const w=function(e,o){return{"is-valid":e,"is-invalid":o}};let H=(()=>{class e{constructor(n,i,a){this._cartService=n,this._publicService=i,this.dialog=a,this.pageSize=12,this.pageIndex=0,this.searchTerm="",this.tam=this._cartService.getProducts().length}ngAfterViewInit(){}ngOnInit(){this.get()}openDialog(n,i){this.dialog.open(R,{data:{producto_id:n,nombre:i,detalles:"",cantidad:0}}).afterClosed().subscribe(c=>{c&&(this.productoNuevo=c,this._cartService.getProducts().push(this.productoNuevo),this.tam=this._cartService.getProducts().length)})}get(){this._publicService.getProducts().subscribe({next:n=>{this.productos2=n,this.paginateCards()},error:n=>{console.log("error: "+n.data)}})}paginateCards(){const n=this.pageIndex*this.pageSize,i=this.productos2.filter(a=>a.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()));this.paginatedCards=i.slice(n,n+this.pageSize)}onPageChange(n){this.pageIndex=n.pageIndex,this.pageSize=n.pageSize,this.paginateCards()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(b),t.Y36(v),t.Y36(m.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-home-cliente"]],viewQuery:function(n,i){if(1&n&&(t.Gf(T.NW,5),t.Gf(O.YE,5)),2&n){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},decls:2,vars:1,consts:[["class","caja_tabla",4,"ngIf"],[1,"caja_tabla"],[1,"toolbar_app","toolbar_custo"],[1,"example-spacer"],["mat-icon-button","","color","primary",1,"btn-cart","btn","btn-primary","position-relative",3,"routerLink"],["class","position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",4,"ngIf"],["matInput","","placeholder","Ex. Taza",3,"ngModel","ngModelChange","keyup"],["input",""],["showFirstLastButtons","",3,"length","pageSizeOptions","page"],[1,"row","row-cols-1","row-cols-md-4","g-4","cartas"],["class","col example-card",4,"ngFor","ngForOf"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"visually-hidden"],[1,"col","example-card"],[1,"h-100"],["mat-card-image","","alt","Photo of a Shiba Inu",1,"imagen","h-100",3,"src"],["mat-raised-button","",1,"boton",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div"),t.YNc(1,J,17,8,"div",0),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",i.productos2))},dependencies:[d.sg,d.O5,l.Fj,l.JJ,l.On,g.rH,u.lW,u.RK,A.Hw,y.Ye,M.KE,M.hX,P.Nt,C.a8,C.hq,C.dk,C.G2,C.n5,T.NW],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar_custo[_ngcontent-%COMP%]{border-radius:10px;margin:15px 0}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.example-card[_ngcontent-%COMP%]{max-width:350px}.boton[_ngcontent-%COMP%]{background-color:#1956ef;color:#fff}mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:220px;object-fit:contain}.btn-cart[_ngcontent-%COMP%]{align-items:end}.caja_tabla[_ngcontent-%COMP%]{margin:15px 5%}.cartas[_ngcontent-%COMP%]{margin:15px 0}"]}),e})(),R=(()=>{class e{constructor(n,i,a){this.dialogRef=n,this.data=i,this.sanitizer=a}onNoClick(){this.data.detalles="",this.dialogRef.close()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.so),t.Y36(m.WI),t.Y36(N.H7))},e.\u0275cmp=t.Xpm({type:e,selectors:[["agregar-carrito-dialog"]],standalone:!0,features:[t.jDz],decls:28,vars:16,consts:[["mat-dialog-content","",1,"row","g-3"],["forma","ngForm"],[1,"col-12"],[1,"form-label"],["type","text","matInput","","placeholder","Ex. Libro","minlength","4","required","","name","name","disabled","",1,"form-control",3,"ngModel","textContent","ngModelChange"],["name","ngModel"],["type","text","matInput","","placeholder","Ex. dise\xf1o con mi logo","name","detalles","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["detalles","ngModel"],["class","invalid-feedback",4,"ngIf"],["type","number","matInput","","placeholder","Ex. 5","name","cantidad","required","","min","1",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["cantidad","ngModel"],["mat-dialog-actions","",1,"col-12"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"form",null,1)(3,"div",2)(4,"p"),t._uU(5,"Ingresar Nuevo Producto"),t.qZA()(),t.TgZ(6,"div",2)(7,"label",3),t._uU(8,"Nombre del producto"),t.qZA(),t.TgZ(9,"input",4,5),t.NdJ("ngModelChange",function(c){return i.data.nombre=c}),t.qZA()(),t.TgZ(11,"div",2)(12,"label",3),t._uU(13,"Descripcion de su dise\xf1o personalizado"),t.qZA(),t.TgZ(14,"textarea",6,7),t.NdJ("ngModelChange",function(c){return i.data.detalles=c}),t.qZA(),t.YNc(16,F,2,1,"div",8),t.qZA(),t.TgZ(17,"div",2)(18,"label",3),t._uU(19,"Cantidad"),t.qZA(),t.TgZ(20,"input",9,10),t.NdJ("ngModelChange",function(c){return i.data.cantidad=c}),t.qZA(),t.YNc(22,Q,2,1,"div",8),t.qZA(),t.TgZ(23,"div",11)(24,"button",12),t.NdJ("click",function(){return i.onNoClick()}),t._uU(25,"Cancel"),t.qZA(),t.TgZ(26,"button",13),t._uU(27,"Ok"),t.qZA()()()()),2&n){const a=t.MAs(2),c=t.MAs(15),p=t.MAs(21);t.xp6(9),t.Q6J("ngModel",i.data.nombre)("textContent",i.data.nombre),t.xp6(5),t.Q6J("ngModel",i.data.detalles)("ngClass",t.WLB(10,w,!c.invalid,c.invalid)),t.xp6(2),t.Q6J("ngIf",c.invalid&&(c.dirty||c.touched)),t.xp6(4),t.Q6J("ngModel",i.data.cantidad)("ngClass",t.WLB(13,w,!p.invalid,p.invalid)),t.xp6(2),t.Q6J("ngIf",p.invalid&&(p.dirty||p.touched)),t.xp6(4),t.Q6J("mat-dialog-close",i.data)("disabled",!a.valid)}},dependencies:[d.ez,d.mk,d.O5,Z.m,u.lW,P.Nt,m.ZT,m.xY,m.H8,l.u5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.wO,l.qQ,l.On,l.F],encapsulation:2}),e})();var j=r(3519),f=r.n(j),s=r(5313),k=r(2596);function B(e,o){1&e&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"h3"),t._uU(4,"Sin elementos en el carrito"),t.qZA()()())}function E(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Nombre "),t.qZA())}function G(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.nombre," ")}}function L(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Detalles "),t.qZA())}function $(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.detalles," ")}}function W(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Cantidad "),t.qZA())}function K(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.cantidad," ")}}function X(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Acciones "),t.qZA())}function V(e,o){1&e&&(t.TgZ(0,"td",20)(1,"button",21),t._UZ(2,"mat-icon",22),t.qZA(),t.TgZ(3,"button",23),t._UZ(4,"mat-icon",24),t.qZA()())}function tt(e,o){1&e&&t._UZ(0,"tr",25)}function et(e,o){1&e&&t._UZ(0,"tr",26)}function nt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"section",6)(3,"table",7),t.ynx(4,8),t.YNc(5,E,2,0,"th",9),t.YNc(6,G,2,1,"td",10),t.BQk(),t.ynx(7,11),t.YNc(8,L,2,0,"th",9),t.YNc(9,$,2,1,"td",10),t.BQk(),t.ynx(10,12),t.YNc(11,W,2,0,"th",9),t.YNc(12,K,2,1,"td",10),t.BQk(),t.ynx(13,13),t.YNc(14,X,2,0,"th",9),t.YNc(15,V,5,0,"td",10),t.BQk(),t.YNc(16,tt,1,0,"tr",14),t.YNc(17,et,1,0,"tr",15),t.qZA()(),t.TgZ(18,"div",16)(19,"button",17),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.btnAceptar())}),t._uU(20,"Aceptar"),t.qZA(),t.TgZ(21,"button",18),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.btnCancelar())}),t._uU(22,"Cancelar"),t.qZA()()()()}if(2&e){const n=t.oxw();t.xp6(3),t.Q6J("dataSource",n.productos),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayedColumnsProduct),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumnsProduct)}}function at(e,o){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.fecha_edit," ")}}const rt=[{path:"",children:[{path:"home",component:H},{path:"cotizar",component:(()=>{class e{constructor(n,i){this._cartService=n,this._publicService=i,this.displayedColumnsProduct=["Nombre","Detalles","Cantidad","Acciones"],this.validar()}ngOnInit(){}validar(){this.productos=this._cartService.getProducts()}btnAceptar(){this._publicService.postProductsCarts(this.productos).subscribe({next:n=>{n?(this.eliminarDataPro(),f().fire("\xa1Datos enviados!","Espere a que se env\xede una respuesta.","success")):f().fire({icon:"error",title:"Oops...",text:"Algo sali\xf3 mal al enviar datos"})},error:n=>{console.log("error: "+n.data),f().fire({icon:"error",title:"Oops...",text:"Algo sali\xf3 con el server"})}})}btnCancelar(){f().fire({title:"\xbfEst\xe1s seguro?",text:"\xa1No podr\xe1s revertirlo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, cancelar!"}).then(n=>{n.isConfirmed&&(this.eliminarDataPro(),f().fire("Cotizaci\xf3n eliminada","Los productos agregados han sido eliminados","success"))})}eliminarDataPro(){this._cartService.setProducts([]),this.validar()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(b),t.Y36(v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cotizar"]],decls:2,vars:2,consts:[["class","contenedor",4,"ngIf"],[4,"ngIf"],[1,"contenedor"],["fxLayout","column","fxLayoutAlign","space-around center"],["src","./assets/images/cart_shop.png",1,"img_cart"],[1,"caja_tabla"],[1,"example-container","mat-elevation-z8"],["mat-table","",1,"tabla",3,"dataSource"],["matColumnDef","Nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Detalles"],["matColumnDef","Cantidad"],["matColumnDef","Acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"example-button-row"],["mat-raised-button","",1,"btn_aceptar",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Editar",1,"edit"],["fontIcon","edit"],["mat-icon-button","","matTooltip","Eliminar",1,"delete"],["fontIcon","delete"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.YNc(0,B,5,0,"div",0),t.YNc(1,nt,23,3,"div",1)),2&n&&(t.Q6J("ngIf",i.productos.length<1),t.xp6(1),t.Q6J("ngIf",i.productos.length>0))},dependencies:[d.O5,u.lW,u.RK,A.Hw,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,k.gM],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;width:calc(100vw - 90px);height:calc(100vh - 90px);justify-content:center;align-items:center}img.img_cart[_ngcontent-%COMP%]{width:30vw;filter:invert(75%) sepia(1%) saturate(9%) hue-rotate(340deg) brightness(89%) contrast(86%)}div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;width:30vw;color:gray}.example-container[_ngcontent-%COMP%]{min-height:40%;max-width:100%;max-height:100%;overflow:auto}.caja_tabla[_ngcontent-%COMP%]{margin:15px 5%}.demo-table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-column-demo-position[_ngcontent-%COMP%]{width:32px;border-right:1px solid currentColor;padding-right:24px;text-align:center}.mat-column-demo-name[_ngcontent-%COMP%]{padding-left:16px;font-size:20px}.mat-column-demo-weight[_ngcontent-%COMP%]{font-style:italic}.mat-column-demo-symbol[_ngcontent-%COMP%]{width:32px;text-align:center;font-weight:700}.delete[_ngcontent-%COMP%]{color:red}.edit[_ngcontent-%COMP%]{color:#00f}.btn_aceptar[_ngcontent-%COMP%]{background-color:#12ba12;color:#fff}.example-button-row[_ngcontent-%COMP%]{display:table-cell;max-width:600px}.example-button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}"]}),e})()},{path:"pedidos",component:(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pedidos"]],decls:3,vars:0,template:function(n,i){1&n&&(t.TgZ(0,"div"),t._UZ(1,"div")(2,"div"),t.qZA())}}),e})()},{path:"cotizaciones",component:(()=>{class e{constructor(n){this._publicService=n}ngOnInit(){this._publicService.getCotizaciones().subscribe({next:n=>{null!=n?this.cotizaciones=n:console.log("No hay datos")},error:n=>{console.log("Error al consultar con la BD")}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cotizaciones"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(n,i){1&n&&(t.TgZ(0,"div")(1,"div"),t.YNc(2,at,2,1,"p",0),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngForOf",i.cotizaciones))},dependencies:[d.sg]}),e})()},{path:"cli",component:z}]}];let ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(rt),g.Bz]}),e})(),lt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,l.u5,ct,g.Bz,Z.m]}),e})()}}]);